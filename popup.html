<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="popup.css" />
  </head>

  <body>
    <div class="container">
      <!-- Header -->
      <header class="app-header">
        <div class="header-content">
          <img
            src="icons/icon128.png"
            class="app-logo"
            onerror="this.style.display = 'none'"
          />
          <h1 class="brand-name">OfferTrail</h1>
        </div>
      </header>

      <!-- ===================== -->
      <!-- MAIN VIEW -->
      <!-- ===================== -->
      <div id="view-main" class="view">
        <div class="form-container">
          <div class="input-group full">
            <label class="label">Company</label>
            <input
              id="company"
              class="input"
              type="text"
              placeholder="e.g. Google"
            />
          </div>

          <div class="input-group full">
            <label class="label">Role</label>
            <input
              id="role"
              class="input"
              type="text"
              placeholder="e.g. Software Engineer Intern"
            />
          </div>

          <div class="grid-2">
            <div class="input-group">
              <label class="label">Location</label>
              <input
                id="location"
                class="input"
                type="text"
                placeholder="Location..."
              />
            </div>
            <div class="input-group">
              <label class="label">Status</label>
              <select id="statusSelect" class="input">
                <option value="Applied" selected>Applied</option>
                <option value="Under Consideration">Under Review</option>
                <option value="Rejected">Rejected</option>
                <option value="Interviewing">Interviewing</option>
                <option value="Offer">Offer</option>
              </select>
            </div>
          </div>

          <div class="grid-2">
            <div class="input-group">
              <label class="label">Date</label>
              <input id="date" class="input" type="date" />
            </div>
            <div class="input-group">
              <label class="label">Job URL</label>
              <input id="url" class="input" type="text" placeholder="Link" />
            </div>
          </div>
        </div>

        <div class="button-container">
          <button id="saveCopyBtn" class="btn btn-primary">
            Save & Copy Row
          </button>
          <button id="copyTsvBtn" class="btn btn-secondary">
            Copy All TSV
          </button>
        </div>

        <p id="msg" class="status-msg">Ready to track!</p>

        <hr class="divider" />

        <div class="section-header">
          <h2 class="section-title">Saved (last 5)</h2>
          <button id="manageBtn" class="text-link">View All</button>
        </div>

        <div id="history" class="history-list">
          <!-- JS will inject items here with .history-item class -->
        </div>
      </div>

      <!-- ===================== -->
      <!-- MANAGE VIEW -->
      <!-- ===================== -->
      <div id="view-manage" class="view" style="display: none">
        <div class="view-header">
          <button id="backToMainBtn" class="btn-circle">←</button>
          <h2 class="view-title">Manage All</h2>
        </div>
        <div class="search-container">
          <input
            id="searchManage"
            class="input search-input"
            placeholder="Search jobs..."
          />
        </div>
        <div id="manageList" class="history-list scrollable">
          <!-- JS will inject items here with .history-item class -->
        </div>
      </div>

      <!-- ===================== -->
      <!-- EDIT VIEW -->
      <!-- ===================== -->
      <div id="view-edit" class="view" style="display: none">
        <div class="view-header">
          <button id="backToManageBtn" class="btn-circle">←</button>
          <h2 class="view-title">Update Application</h2>
        </div>
        <div id="render-edit" class="edit-form-wrap">
          <!-- JS will inject edit inputs here -->
        </div>
        <button id="saveEditBtn" class="btn btn-primary full-width">
          Save Changes
        </button>
      </div>
    </div>
    <script src="popup.js"></script>
  </body>
</html>
